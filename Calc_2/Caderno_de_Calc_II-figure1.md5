\begingroup \toks 0={macro:-> \def \R {3} \coordinate (O) at (0,0); \par \draw [thick] (O) circle (\R ); \par \coordinate (A) at (60:\R ); \coordinate (B) at (90:\R ); \coordinate (C) at (120:\R ); \coordinate (D) at (150:\R ); \par \draw [thick] (O)--(A); \draw [thick] (O)--(B); \draw [thick] (O)--(C); \draw [thick] (O)--(D); \par \draw [thick] (A)--(B)--(C)--(D); \par \fill (A) circle (1.2pt) node[above right] {$A$}; \fill (B) circle (1.2pt) node[above] {$B$}; \fill (C) circle (1.2pt) node[above left] {$C$}; \fill (D) circle (1.2pt) node[left] {$D$}; \par \coordinate (HAB) at ($(A)!(O)!(B)$); \coordinate (HBC) at ($(B)!(O)!(C)$); \coordinate (HCD) at ($(C)!(O)!(D)$); \par \fill [pattern=north east lines, pattern color=blue, opacity=0.3] (O)--(A)--(B)--cycle; \par \draw [thick, blue] (O)--(HAB); \draw [thick, blue] (O)--(HBC); \draw [thick, blue] (O)--(HCD); \par \fill (HAB) circle (1.0pt) node[below right, xshift=-4pt, yshift=15pt] {$h_{AB}$}; \fill (HBC) circle (1.0pt) node[below right, xshift=-15pt, yshift=20pt] {$h_{BC}$}; \fill (HCD) circle (1.0pt) node[below right, xshift=-22pt, yshift=20pt] {$h_{CD}$}; \par }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
