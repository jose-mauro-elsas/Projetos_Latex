\begingroup \toks 0={macro:-> \begin {axis}[ xmin=0.3, xmax=2.25, ymin=0, ymax=3.25, axis x line=middle, axis y line=middle, axis line style={->}, xlabel={$x$}, ylabel={$y$}, title={Soma de Riemann}, clip=false, xticklabels={} ] \addplot [red, thick, domain=0.5:2, samples=200] {2*x - x^2 + 2}; \par \draw [dash pattern=on 5pt off 3pt, line width=0.6pt] (axis cs:0.5,0) -- (axis cs:0.5,{2*0.75 - 0.75^2 + 2}); \draw [blue, line width=0.6pt] (axis cs:0.75,0) -- (axis cs:0.75,{2*0.75 - 0.75^2 + 2}); \draw [line width=0.6pt] (axis cs:1,0) -- (axis cs:1,{2*0.75 - 0.75^2 + 2}); \draw [blue, line width=0.6pt] (axis cs:1.25,0) -- (axis cs:1.25,{2*1.25 - 1.25^2 + 2}); \draw [line width=0.6pt] (axis cs:1.5,0) -- (axis cs:1.5,{2*1.25 - 1.25^2 + 2}); \draw [blue, line width=0.6pt] (axis cs:1.75,0) -- (axis cs:1.75,{2*1.75 - 1.75^2 + 2}); \draw [dash pattern=on 5pt off 3pt, line width=0.6pt] (axis cs:2,0) -- (axis cs:2,{2*1.75- 1.75^2 + 2}); \draw [blue, line width=0.6] (axis cs:0.5,2*0.75-0.75^2+2) -- (1,2*0.75-0.75^2+2); \draw [blue, line width=0.6] (axis cs:1,2*1.25-1.25^2+2) -- (1.5,2*1.25-1.25^2+2); \draw [blue, line width=0.6] (axis cs:1.5,2*1.75-1.75^2+2) -- (2,2*1.75-1.75^2+2); \par \node [below, text=red] at (axis cs:0.5,-0.11) {$a=x_0$}; \node [below, text=black] at (axis cs:0.75,-0.1) {$C_1$}; \node [below, text=black] at (axis cs:0.75,-0.5) {$\underbrace {\hspace {4em}}_{\Delta _1}$}; \node [below, text=red] at (axis cs:1,-0.1) {$x_1$}; \node [below, text=black] at (axis cs:1.25,-0.1) {$C_2$}; \node [below, text=black] at (axis cs:1.25,-0.5) {$\underbrace {\hspace {4em}}_{\Delta _2}$}; \node [below, text=red] at (axis cs:1.5,-0.1) {$x_2$}; \node [below, text=black] at (axis cs:1.75,-0.1) {$C_3$}; \node [below, text=black] at (axis cs:1.75,-0.5) {$\underbrace {\hspace {4em}}_{\Delta _3}$}; \node [below, text=red] at (axis cs:2,-0.1) {$b=x_n$}; \end {axis} }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
