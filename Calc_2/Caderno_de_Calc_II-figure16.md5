\begingroup \toks 0={macro:-> \begin {axis}[ width=\linewidth , height=0.45\textwidth , xmin=0, xmax=5, ymin=0, ymax=4, axis x line=bottom, axis y line=left, axis line style={-}, tick align=outside, grid=both, minor tick num=1 ] \addplot [thick, solid] coordinates {(0,0) (4,0) (4,3) (0,3) (0,0)}; \addplot [fill=black!10, draw=none] coordinates {(0,0) (4,0) (4,3) (0,3)}; \end {axis} }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
