\begingroup \toks 0={macro:-> \begin {axis}[ xmin=0.5, xmax=4, ymin=-3, ymax=.5, axis x line=middle, axis y line=middle, axis line style={-{Stealth[length=3mm,width=2mm]}}, samples=200, xlabel={$x$}, ylabel={$y$} ] \addplot [blue, thick, domain=1:3.75, name path=curva] {-(0.5*(x-2)^2+1)}; \addplot [red, thick, domain=1:3.75, name path=reta ] {-(.5*x+0.5)}; \par \addplot [ pattern=north east lines, pattern color=gray, ] fill between[ of=curva and reta, split, every segment no 0/.style={transparent}, every segment no 1/.style={pattern=north east lines}, every segment no 2/.style={transparent} ]; \end {axis} }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
